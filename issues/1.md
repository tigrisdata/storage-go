## Problem

The release workflow is failing when semantic-release tries to push directly to the `main` branch. The job fails with this error:

```
remote: error: GH013: Repository rule violations found for refs/heads/main.
remote: - 5 of 5 required status checks are expected.
error: failed to push some refs to 'https://github.com/tigrisdata/storage-go.git'
```

**Failed job:** https://github.com/tigrisdata/storage-go/actions/runs/21222562085/job/61077352761

The repository has branch protection rules requiring 5 status checks to pass before pushing to `main`. The current workflow uses `@semantic-release/git` which attempts to push release commits (CHANGELOG.md, package.json updates) directly to main, bypassing these rules.

## Solution

Change the release flow to use pull requests instead of direct pushes, ensuring all branch protection rules are satisfied.

### Recommended Approach: Use semantic-release-pr

Use [`semantic-release-pr`](https://github.com/9sako6/semantic-release-pr) to create a pull request with release changes instead of pushing directly:

1. **Update semantic-release configuration** (`.releaserc` or equivalent):

```json
{
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    "@semantic-release/changelog",
    [
      "semantic-release-pr",
      {
        "branch": "release",
        "baseRef": "main"
      }
    ],
    "@semantic-release/github"
  ]
}
```

2. **Remove or disable `@semantic-release/git`** since it pushes directly to main.

3. **Update the workflow** to:
   - Create a release branch
   - Open a PR with CHANGELOG and version updates
   - Merge the PR after status checks pass
   - Tag the release after merge

### Alternative: Disable git push

If you don't need automated commits, disable push in `@semantic-release/git`:

```json
{
  "plugins": [
    "@semantic-release/commit-analyzer",
    "@semantic-release/release-notes-generator",
    "@semantic-release/changelog",
    [
      "@semantic-release/git",
      {
        "push": false
      }
    ],
    "@semantic-release/github"
  ]
}
```

## References

- Branch protection rules: https://github.com/tigrisdata/storage-go/rules?ref=refs%2Fheads%2Fmain
- semantic-release-pr: https://github.com/9sako6/semantic-release-pr